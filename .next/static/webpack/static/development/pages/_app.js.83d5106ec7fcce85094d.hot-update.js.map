{"version":3,"file":"static/webpack/static/development/pages/_app.js.83d5106ec7fcce85094d.hot-update.js","sources":["webpack:///./store/reducers/cart.js"],"sourcesContent":["import { ADD_TO_CART, REMOVE_FROM_CART } from \"../actions/cart\";\n\nimport { createReducer } from '@reduxjs/toolkit';\n\nconst initialState = {\n    items: {},\n    totalAmount: 0\n};\n\nconst cartReducer = createReducer(initialState, {\n    [ADD_TO_CART]: (state, action) => {\n        const {\n            productId,\n            productName,\n            productPrice,\n            productDescription,\n            productImage,\n            productCategory\n        } = action.payload;\n        // console.log(action.payload);\n\n        let updatedOrNewCartItem;\n\n        if (state.items[productId]) {\n            updatedOrNewCartItem = {\n                productId,\n                productName,\n                productPrice,\n                productDescription,\n                productImage,\n                productCategory,\n                quantity: state.items[productId].quantity + 1,\n                sum: state.items[productId].sum + productPrice\n            }\n        } else {\n            updatedOrNewCartItem = {\n                productId,\n                productName,\n                productPrice,\n                productDescription,\n                productImage,\n                productCategory,\n                quantity: 1,\n                sum: productPrice\n            }\n        }\n\n        return {\n            ...state,\n            items: { ...state.items, [productId]: updatedOrNewCartItem },\n            totalAmount: state.totalAmount + productPrice\n        };\n    },\n    [REMOVE_FROM_CART]: (state, action) => {\n        const {\n            productId,\n            productName,\n            productPrice,\n            productDescription,\n            productImage,\n            productCategory,\n            quantity\n        } = state.items[action.payload];\n\n        let updatedCartItems;\n        console.log(quantity);\n\n        if (quantity > 1) {\n            //need to reduce, not erase it\n            updatedCartItems = {\n                productId,\n                productName,\n                productPrice,\n                productDescription,\n                productImage,\n                productCategory,\n                quantity: state.items[productId].quantity - 1,\n                sum: state.items[productId].sum - productPrice\n            }\n        } else {\n            updatedCartItems = { ...state.items };\n        }\n\n        return {\n            ...state,\n            items: updatedCartItems,\n            totalAmount: state.totalAmount - productPrice\n        };\n    }\n})\n\nexport default cartReducer;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AAEA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AAEA;AACA;AAHA;AAKA;AAGA;;;;A","sourceRoot":""}